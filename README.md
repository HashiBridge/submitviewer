# イベント投稿表示システム (Event Submission Viewer)

Googleフォームで収集したフリーテキスト投稿をリアルタイムで大画面に表示するWebアプリケーションです。イベント会場での参加者エンゲージメント向上を目的とした視覚的に魅力的なライブメッセージ表示システムです。

## 🎯 プロジェクト概要

### 目的
- イベント参加者がGoogleフォームに投稿したフリーテキストをリアルタイムで収集・表示
- 大画面に映して目を引くことで、参加者の反応や雰囲気を盛り上げる
- デザイン性が高く、見た人が「いいね！」と思えるビジュアル演出

### ターゲット環境
- 大画面ディスプレイ（プロジェクター、大型モニター等）
- イベント会場での使用を想定
- リアルタイム性重視（5秒間隔更新）

## ✨ 主要機能

### 1. 無制限メッセージ表示
- **全メッセージ同時表示**: ローテーション表示ではなく、すべてのメッセージが画面に蓄積表示
- **リアルタイム更新**: 5秒間隔でGoogle Apps Script APIから新着メッセージを取得
- **新着ハイライト**: 新しく追加されたメッセージは緑色でハイライト表示（3秒間）

### 2. アダプティブレイアウトシステム
メッセージ数に応じて自動的にグリッドレイアウトが調整されます：

| メッセージ数 | レイアウト | フォントサイズ | 最小高さ |
|-------------|-----------|---------------|----------|
| 1-3件       | 1列表示    | 3.5rem        | 120px    |
| 4-6件       | 2列表示    | 2.8rem        | 100px    |
| 7-12件      | 3列表示    | 2.2rem        | 80px     |
| 13件以上    | 4列表示    | 1.8rem        | 60px     |

### 3. 可変メッセージボックスサイズ
- **コンテンツベースサイズ調整**: メッセージの長さに応じてボックス高さが自動調整
- **完全表示保証**: 長いメッセージも切り取られることなく完全表示
- **オーバーフロー防止**: メッセージがボックス外に飛び出すことを防止
- **適切な文字折り返し**: 半角・全角文字の適切な改行処理

### 4. 視覚デザイン
- **動的グラデーション背景**: 青からピンクへの美しいグラデーション
- **ガラスモーフィズムデザイン**: 半透明の白いカードデザイン
- **アニメーション効果**: フェードインアップエフェクト
- **レスポンシブデザイン**: 様々な画面サイズに対応

## 🔧 技術仕様

### フロントエンド
- **HTML5 + CSS3 + JavaScript**: バニラJavaScript実装
- **CSS Grid**: アダプティブレイアウト実装
- **CSS Animations**: 視覚エフェクト
- **Fetch API**: データ取得

### バックエンド
- **Google Apps Script**: サーバーレスAPI
- **Google Sheets**: データストレージ
- **Google Forms**: データ入力インターフェース

### API仕様
```
エンドポイント: https://script.google.com/macros/s/AKfycbzCtGLoNqGC_QogSQNdmxd7AFZBBO3zhKtt77cUZ-vzIkdZoyVaJ1n0bm2be9J7Pu_9/exec
メソッド: GET
レスポンス: JSON配列（文字列の配列）
更新間隔: 5秒
```

## 📋 実装要件

### 機能要件
1. **データ取得**: Googleフォームから自動で回答を取得（5秒間隔）
2. **フリーテキスト表示**: 文字列データのみを抽出して整形表示
3. **リアルタイム反映**: 新着投稿を自動で画面に追加
4. **無制限表示**: メッセージ数の上限なし、すべて同時表示
5. **アダプティブレイアウト**: メッセージ数に応じた動的グリッド調整
6. **完全表示**: 長いメッセージも切り取りなしで完全表示

### 非機能要件
1. **視覚的魅力**: イベント参加者が「いいね！」と思えるデザイン
2. **大画面最適化**: プロジェクター・大型ディスプレイでの表示に最適化
3. **パフォーマンス**: 軽量で高速な動作
4. **安定性**: 長時間の連続運用に対応

### 制約事項
- **文字数制限**: なし（CSS自動調整により対応）
- **メッセージ数制限**: なし（アダプティブレイアウトにより対応）
- **ブラウザ対応**: モダンブラウザ（Chrome, Firefox, Safari, Edge）

## 🚀 使用方法

### セットアップ
1. リポジトリをクローン
2. `index.html`をWebサーバーまたはローカルで開く
3. Google Apps ScriptのAPIエンドポイントが正しく設定されていることを確認

### 運用
1. Googleフォームを参加者に公開
2. `index.html`を大画面で表示
3. 自動的に5秒間隔でメッセージが更新・表示される

### カスタマイズ
- **更新間隔**: `fetchMessages()`の`setTimeout`値を変更
- **色彩**: CSS変数やグラデーション設定を調整
- **レイアウト**: グリッド設定やブレークポイントを変更

## 🧪 テスト・検証

### 動作確認項目
- [ ] 複数メッセージの同時表示
- [ ] アダプティブレイアウトの動的変更
- [ ] 長いメッセージの完全表示（切り取りなし）
- [ ] 新着メッセージのハイライト表示
- [ ] 5秒間隔の自動更新
- [ ] 文字折り返しの適切な動作
- [ ] オーバーフロー防止

### パフォーマンステスト
- [ ] 大量メッセージ（50件以上）での動作確認
- [ ] 長時間運用（数時間）での安定性確認
- [ ] 様々な画面サイズでの表示確認

## 📝 開発履歴

### v1.0 - 基本実装
- 単一メッセージローテーション表示
- 基本的なデザインとアニメーション

### v2.0 - 視覚強化
- 動的グラデーション背景
- ガラスモーフィズムデザイン
- パーティクルエフェクト

### v3.0 - 機能拡張
- 無制限メッセージ表示
- 新着メッセージハイライト
- スクロール対応

### v4.0 - アダプティブレイアウト
- メッセージ数対応動的グリッド
- 可変メッセージボックスサイズ
- 完全表示保証（切り取り問題解決）

## 🔍 トラブルシューティング

### よくある問題
1. **メッセージが表示されない**
   - APIエンドポイントの接続確認
   - ブラウザのコンソールでエラーチェック

2. **メッセージが切り取られる**
   - CSS `grid-auto-rows: min-content`の設定確認
   - `height: auto`の適用確認

3. **レイアウトが崩れる**
   - メッセージ数とレイアウトクラスの対応確認
   - CSS Grid設定の確認

### デバッグ方法
```javascript
// ブラウザコンソールでの確認コマンド
console.log('displayedMessages:', displayedMessages.size);
console.log('Layout class:', document.getElementById('messageContainer').className);

// 切り取り確認
const messages = document.querySelectorAll('.message');
messages.forEach((msg, index) => {
  const isOverflowing = msg.scrollHeight > msg.offsetHeight;
  console.log(`Message ${index + 1}: Truncated=${isOverflowing}`);
});
```

## 📞 サポート

### 開発者
- **作成者**: Devin AI
- **依頼者**: HashiBridge (@HashiBridge)
- **プロジェクト**: イベント投稿表示システム

### リンク
- **GitHub Repository**: https://github.com/HashiBridge/submitviewer
- **Devin Run**: https://app.devin.ai/sessions/c38e79fa2d7e417ea2d3122e4c8222cd

---

*このシステムは大画面イベント表示に最適化されており、参加者のエンゲージメント向上とイベントの盛り上げを目的として開発されました。*
